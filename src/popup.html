<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="js/jquery.min.js"></script>

<link href="less/popup.less" type="text/css" rel="stylesheet/less" />
<script src="js/less-1.3.0.min.js" type="text/javascript"></script>

<script src="prettify/prettify.js" type="text/javascript"></script>
<script src="prettify/lang-css.js" type="text/javascript"></script>
<link href="prettify/sunburst.css" type="text/css" rel="stylesheet" />

<script src="clippy/jquery.clippy.js" type="text/javascript"></script>

</head>
<body>

	<h1>Inline LESS Styles</h1>
	<div id="container">

	</div>

	
	<script type="text/javascript">
		$(document).ready(function()
		{
			var less_sheets = JSON.parse(localStorage["inline-less-output"]);
			var even = false;

			$(less_sheets.styles).each(function(idx, style)
			{
				if (typeof style.css !== "undefined")
				{
					var obj = $('<div />')
						.addClass('style_block')
						.addClass(even? 'even' : 'odd')
						.append($('<h2 />')
							.html(style.id)
							.append($('<div />')
								.addClass('copy')
								.append($('<input />')
									.attr({'type': 'button'})
									.val('Copy')
									.click(function()
									{
										var code = $(this).parent().parent().parent().find('div.preview textarea');

										code[0].select();
										document.execCommand('copy');
									})
								)
							)
						).append($('<div />')
							.addClass('preview')
							.append($('<textarea />')
								.val(style.css)
							)
						);

					$('#container').append(obj);
				}

				even = !even;
			});
		});
	</script>
</body>
</html>